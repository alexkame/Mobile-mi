<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
    <title>分类</title>
    <link rel="shortcut icon" href="favicon.ico">
    <script src="js/mui.min.js"></script>
    <script src="js/app.js"></script>
    <link href="css/mui.min.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="css/common.css"/>
    <link href="css/kinds.css" rel="stylesheet">
    <link href="css/iconfont.css" rel="stylesheet">
    <script type="text/javascript" charset="utf-8">
      	mui.init();
    </script>
</head>
<body>
	<!-- 顶部导航栏开始 -->
	<header class="mui-bar mui-bar-nav">
	    <form action="" class="mui-icon mui-icon-search">
	    	<input type="">
	    </form>
	    <span class="mui-icon iconfont icon-xiaoxi"></span>
	</header>
	<!-- 顶部导航栏结束 -->
	
	<!-- 中间主体区域开始 -->
	<div class="mui-content">
		<div class="mui-row">
			<!-- 左侧区域开始 -->
	        <ul class="mui-col-sm-3 mui-col-xs-3 left_area">
            	<li class="active" data-index="0">礼品</li>
            	<li data-index="1">手机</li>
            	<li data-index="2">电视</li>
            	<li data-index="3">电脑</li>
	        </ul>
	        <!-- 左侧区域结束 -->
	        
	        <!-- 右侧区域开始 -->
	        <div class="mui-col-sm-9 mui-col-xs-9 right_area">
	        	<!-- 模块开始 -->
	            <section>
	            	<a href=""><img src="images/fl-1.webp" alt="" ></a>
	            	<h3>礼品</h3>
	            	<div class="mui-row">
		       			<div class="mui-col-sm-4 mui-col-xs-4">
		       				<a href=""><img src="images/find/find1.jpg" alt=""></a>
		       				<span>商品1</span>
		            	</div>
		            	<div class="mui-col-sm-4 mui-col-xs-4">
		       				<a href=""><img src="images/find/find2.jpg" alt=""></a>
		       				<span>商品2</span>
		            	</div>
		            	<div class="mui-col-sm-4 mui-col-xs-4">
		       				<a href=""><img src="images/find/find3.jpg" alt=""></a>
		       				<span>商品3</span>
		            	</div>
		            	<div class="mui-col-sm-4 mui-col-xs-4">
		       				<a href=""><img src="images/find/find4.jpg" alt=""></a>
		       				<span>商品4</span>
		            	</div>
		            	<div class="mui-col-sm-4 mui-col-xs-4">
		       				<a href=""><img src="images/find/find5.jpg" alt=""></a>
		       				<span>商品5</span>
		            	</div>
		            	<div class="mui-col-sm-4 mui-col-xs-4">
		       				<a href=""><img src="images/find/find6.jpg" alt=""></a>
		       				<span>商品6</span>
		            	</div>
		            	<div class="mui-col-sm-4 mui-col-xs-4">
		       				<a href=""><img src="images/find/find7.jpg" alt=""></a>
		       				<span>商品7</span>
		            	</div>
		            	<div class="mui-col-sm-4 mui-col-xs-4">
		       				<a href=""><img src="images/find/find8.jpg" alt=""></a>
		       				<span>商品8</span>
		            	</div>
		            	<div class="mui-col-sm-4 mui-col-xs-4">
		       				<a href=""><img src="images/find/find9.jpg" alt=""></a>
		       				<span>商品9</span>
		            	</div>
		            </div>
	            </section>
	        	<!-- 模块结束 -->
	        	<!-- 模块开始 -->
	            <section>
	            	<a href=""><img src="images/fl-2.webp" alt="" ></a>
	            	<h3>手机</h3>
	            	<div class="mui-row">
		       			<div class="mui-col-sm-4 mui-col-xs-4">
		       				<a href=""><img src="images/find/find1.jpg" alt=""></a>
		       				<span>商品1</span>
		            	</div>
		            	<div class="mui-col-sm-4 mui-col-xs-4">
		       				<a href=""><img src="images/find/find2.jpg" alt=""></a>
		       				<span>商品2</span>
		            	</div>
		            	<div class="mui-col-sm-4 mui-col-xs-4">
		       				<a href=""><img src="images/find/find3.jpg" alt=""></a>
		       				<span>商品3</span>
		            	</div>
		            	<div class="mui-col-sm-4 mui-col-xs-4">
		       				<a href=""><img src="images/find/find4.jpg" alt=""></a>
		       				<span>商品4</span>
		            	</div>
		            	<div class="mui-col-sm-4 mui-col-xs-4">
		       				<a href=""><img src="images/find/find5.jpg" alt=""></a>
		       				<span>商品5</span>
		            	</div>
		            	<div class="mui-col-sm-4 mui-col-xs-4">
		       				<a href=""><img src="images/find/find6.jpg" alt=""></a>
		       				<span>商品6</span>
		            	</div>
		            	<div class="mui-col-sm-4 mui-col-xs-4">
		       				<a href=""><img src="images/find/find7.jpg" alt=""></a>
		       				<span>商品7</span>
		            	</div>
		            	<div class="mui-col-sm-4 mui-col-xs-4">
		       				<a href=""><img src="images/find/find8.jpg" alt=""></a>
		       				<span>商品8</span>
		            	</div>
		            	<div class="mui-col-sm-4 mui-col-xs-4">
		       				<a href=""><img src="images/find/find9.jpg" alt=""></a>
		       				<span>商品9</span>
		            	</div>
		            </div>
	            </section>
	        	<!-- 模块结束 -->
	        	<!-- 模块开始 -->
	            <section>
	            	<a href=""><img src="images/fl-3.webp" alt="" ></a>
	            	<h3>电视</h3>
	            	<div class="mui-row">
		       			<div class="mui-col-sm-4 mui-col-xs-4">
		       				<a href=""><img src="images/find/find1.jpg" alt=""></a>
		       				<span>商品1</span>
		            	</div>
		            	<div class="mui-col-sm-4 mui-col-xs-4">
		       				<a href=""><img src="images/find/find2.jpg" alt=""></a>
		       				<span>商品2</span>
		            	</div>
		            	<div class="mui-col-sm-4 mui-col-xs-4">
		       				<a href=""><img src="images/find/find3.jpg" alt=""></a>
		       				<span>商品3</span>
		            	</div>
		            	<div class="mui-col-sm-4 mui-col-xs-4">
		       				<a href=""><img src="images/find/find4.jpg" alt=""></a>
		       				<span>商品4</span>
		            	</div>
		            	<div class="mui-col-sm-4 mui-col-xs-4">
		       				<a href=""><img src="images/find/find5.jpg" alt=""></a>
		       				<span>商品5</span>
		            	</div>
		            	<div class="mui-col-sm-4 mui-col-xs-4">
		       				<a href=""><img src="images/find/find6.jpg" alt=""></a>
		       				<span>商品6</span>
		            	</div>
		            	<div class="mui-col-sm-4 mui-col-xs-4">
		       				<a href=""><img src="images/find/find7.jpg" alt=""></a>
		       				<span>商品7</span>
		            	</div>
		            	<div class="mui-col-sm-4 mui-col-xs-4">
		       				<a href=""><img src="images/find/find8.jpg" alt=""></a>
		       				<span>商品8</span>
		            	</div>
		            	<div class="mui-col-sm-4 mui-col-xs-4">
		       				<a href=""><img src="images/find/find9.jpg" alt=""></a>
		       				<span>商品9</span>
		            	</div>
		            </div>
	            </section>
	        	<!-- 模块结束 -->
	        	<!-- 模块开始 -->
	            <section>
	            	<a href=""><img src="images/fl-4.webp" alt="" ></a>
	            	<h3>电脑</h3>
	            	<div class="mui-row">
		       			<div class="mui-col-sm-4 mui-col-xs-4">
		       				<a href=""><img src="images/find/find1.jpg" alt=""></a>
		       				<span>商品1</span>
		            	</div>
		            	<div class="mui-col-sm-4 mui-col-xs-4">
		       				<a href=""><img src="images/find/find2.jpg" alt=""></a>
		       				<span>商品2</span>
		            	</div>
		            	<div class="mui-col-sm-4 mui-col-xs-4">
		       				<a href=""><img src="images/find/find3.jpg" alt=""></a>
		       				<span>商品3</span>
		            	</div>
		            	<div class="mui-col-sm-4 mui-col-xs-4">
		       				<a href=""><img src="images/find/find4.jpg" alt=""></a>
		       				<span>商品4</span>
		            	</div>
		            	<div class="mui-col-sm-4 mui-col-xs-4">
		       				<a href=""><img src="images/find/find5.jpg" alt=""></a>
		       				<span>商品5</span>
		            	</div>
		            	<div class="mui-col-sm-4 mui-col-xs-4">
		       				<a href=""><img src="images/find/find6.jpg" alt=""></a>
		       				<span>商品6</span>
		            	</div>
		            	<div class="mui-col-sm-4 mui-col-xs-4">
		       				<a href=""><img src="images/find/find7.jpg" alt=""></a>
		       				<span>商品7</span>
		            	</div>
		            	<div class="mui-col-sm-4 mui-col-xs-4">
		       				<a href=""><img src="images/find/find8.jpg" alt=""></a>
		       				<span>商品8</span>
		            	</div>
		            	<div class="mui-col-sm-4 mui-col-xs-4">
		       				<a href=""><img src="images/find/find9.jpg" alt=""></a>
		       				<span>商品9</span>
		            	</div>
		            </div>
	            </section>
	        	<!-- 模块结束 -->
	        </div>
	        <!-- 右侧区域结束 -->
	   </div>
	</div>
	<!-- 中间主体区域结束 -->
	
	<!-- 底部固定tab选项卡开始 -->
	<nav class="mui-bar mui-bar-tab" id="bottom_nav">
	    <a class="mui-tab-item" location="index.html">
	        <span class="mui-icon iconfont icon-home"></span>
	        <span class="mui-tab-label">首页</span>
	    </a>
	    <a class="mui-tab-item mui-active" location="kinds.html">
	        <span class="mui-icon iconfont icon-tubiao3"></span>
	        <span class="mui-tab-label">分类</span>
	    </a>
	    <a class="mui-tab-item" location="find.html">
	        <span class="mui-icon iconfont icon-faxian"></span>
	        <span class="mui-tab-label">发现</span>
	    </a>
	    <a class="mui-tab-item" location="cart.html">
	        <span class="mui-icon iconfont icon-order"></span>
	        <span class="mui-tab-label">购物车</span>
	    </a>
	     <a class="mui-tab-item" location="my.html">
	        <span class="mui-icon iconfont icon-wode"></span>
	        <span class="mui-tab-label">我的</span>
	    </a>
	</nav>
	<!-- 底部固定tab选项卡结束 -->
	
	<!-- 根据点击的项目，跳转相应的页面到当前可视化页面 -->
	<script>
		var leftArea 	  = document.querySelector( '.left_area' ),
			leftLis  	  = leftArea.querySelectorAll( 'li' ),
			rightArea	  = document.querySelector( '.right_area' ),
			rightSections = rightArea.querySelectorAll( 'section' ),
			
			//用于存储右侧区域所有模块的offsetTop
			tops 		  = [];
			
			//获取右侧区域所有模块的offsetTop，并组成数组
			for( var i = 0; i < rightSections.length; i++ ){
				tops.push( rightSections[i].offsetTop - rightArea.offsetTop );
			}
			
//			console.log( leftArea, leftLis, rightArea, leftSections );
		
		mui('.left_area').on( 'tap','li', function(){
			//排除旧的被选中的li
			var oldTouched = leftArea.querySelector( '.active' );
			if( oldTouched ){
				oldTouched.classList.remove( 'active' );
			}
			//确立自身
			this.classList.add('active');
			
			//根据点击处的li的索引值获取到相应的右侧的模块的offsetTop，并跳转
			rightArea.scrollTop = tops[this.dataset.index];   
			
		} );
		
		//封装右侧区域滚动的函数
		function Scroll(){
			//滚动时不断获取当前右侧区域滚动的距离
			var currentTop = rightArea.scrollTop,
				which 	   = 0;    //用于存放当前处于可视化界面内的模块的索引值
//			console.log(currentTop);
			
			//将获取到的当前的垂直方向上滚动的距离与tops中的只进行比较
			for( var i = 0; i < tops.length; i++ ){
				//当滚动的距离大于等于tops中的某个值时，获取其在数组tops中的相应的索引值
				//多次比较后，后面的索引值会覆盖前面的索引值，可以得到最后的索引值
				if( currentTop >= tops[i] ){
					which = i;
				}
			}
			console.log( which );
			
			//根据右侧处于可视化页面内的模块的索引值，点亮左侧的li
			//排除旧的被选中的li
			var oldTouched = leftArea.querySelector( '.active' );
			if( oldTouched ){
				oldTouched.classList.remove( 'active' );
			}
			//确立自身
			leftLis[which].classList.add('active');
		}
		//对滚动函数使用节流函数
	
		var rs = mui.buffer(Scroll);
		//为右侧区域绑定滚动事件
		rightArea.addEventListener( 'scroll',function(){
			//调用节流后的滚动函数
			rs();
		} );
	</script>
</body>
